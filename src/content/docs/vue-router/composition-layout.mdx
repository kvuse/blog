---
title: "vueRouterç»„åˆå¸ƒå±€"
---

ä»Šå¤©æˆ‘ä»¬ç”¨ä¸€ç§æ–°çš„å¸ƒå±€æ–¹å¼ï¼Œä½¿ç”¨è·¯ç”±è§†å›¾æ¥å®ç°å¸ƒå±€æ ·å¼ã€‚

## å¸¸ç”¨çš„å¸ƒå±€

æˆ‘ä»¬é¦–å…ˆçœ‹ä¸€ä¸ªæˆ‘ä»¬å¸¸ç”¨çš„å¸ƒå±€ï¼Œå·¦å³å¸ƒå±€ã€‚

![image.png](/blog/images/vueRouter/layout/left-right.png)

### app é¡µé¢

æˆ‘ä»¬é€šå¸¸å†™ä¸€ä¸ªè¿™æ ·çš„å¸ƒå±€ï¼Œæ€è·¯æ˜¯è¿™æ ·çš„ï¼š

1. æˆ‘ä»¬é¦–å…ˆè¦å†™ä¸‰ä¸ªç»„ä»¶`meun.vue`, `header.vue`, `collect.vue`
2. åœ¨appæ·»åŠ å¼•å…¥å•ä¸ªç»„ä»¶  

   ```vue
    # app.vue
    <template>
      <div class="contain flex p10 mt40 ml40">
        <Menu class="menu width-200 flex-center mr10" />
        <div class="flex1 flex-column">
          <Header class="header mb10 p10 flex-center"></Header>
          <router-view class="view-main"></router-view>
        </div>
      </div>
    </template>

    <script setup>
    import Header from './views/home/header.vue';
    import Menu from './views/home/menu.vue';
    </script>
   ```

### about é¡µé¢

å¦‚æœæˆ‘ä»¬çš„`about`é¡µé¢ï¼Œåƒè¿™æ ·çš„ï¼Œæ²¡æœ‰`menu`æˆ–è€…`header`

![image.png](/blog/images/vueRouter/layout/about.png)

æˆ‘ä»¬å¯ä»¥æ ¹æ®è·¯ç”±åˆ¤æ–­æ˜¯å¦æ˜¾ç¤º`menu`æˆ–è€…`header`ç»„ä»¶

```vue
<template>
  <div class="contain flex p10 mt40 ml40">
    <Menu class="menu width-200 flex-center mr10" v-if="route.name !== 'about'" />
    <div class="flex1 flex-column">
      <Header class="header mb10 p10 flex-center"></Header>
      <router-view class="view-main"></router-view>
    </div>
  </div>
</template>

<script setup>
import { useRoute } from 'vue-router';
import Header from './views/home/header.vue';
import Menu from './views/home/menu.vue';

const route = useRoute();
</script>
```

### æ€è€ƒğŸ¤”

è¿™æ˜¯æˆ‘ä»¬çš„å¸¸è§„æ“ä½œï¼Œå¦‚æœæˆ‘ä»¬æœ‰äº›é¡µé¢ä¸éœ€è¦`menu`æˆ–è€…`header`é¡µé¢ï¼Œæˆ‘ä»¬éƒ½æ˜¯è¦å¼•å…¥çš„ï¼Œè¿˜æœ‰åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºéšè—ã€‚

æ€ä¹ˆæ‰èƒ½ä¸å†™è¿™ä¹ˆå¤šåˆ¤æ–­ï¼Œåˆèƒ½æé«˜æ€§èƒ½çš„åŒæ—¶ï¼Œè¿˜èƒ½å®ç°æˆ‘ä»¬çš„æ•ˆæœå‘¢ï¼Ÿ

- ä½¿ç”¨å¼‚æ­¥ç»„ä»¶åŠ¨æ€å¯¼å…¥ [`defineAsyncComponent`](https://cn.vuejs.org/guide/components/async.html#basic-usage), æœ‰éœ€è¦ç»„ä»¶å»å®˜ç½‘çœ‹ä¸‹
- ä½¿ç”¨ [`vue routerå‘½åè§†å›¾`](https://router.vuejs.org/zh/guide/essentials/named-views.html)

### å‘½åè§†å›¾

æˆ‘ä»¬è¿™é‡Œä½¿ç”¨å‘½ä»¤è§†å›¾, æ¥å®ç°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ

> æœ‰æ—¶å€™æƒ³åŒæ—¶ (åŒçº§) å±•ç¤ºå¤šä¸ªè§†å›¾ï¼Œè€Œä¸æ˜¯åµŒå¥—å±•ç¤ºï¼Œä¾‹å¦‚åˆ›å»ºä¸€ä¸ªå¸ƒå±€ï¼Œæœ‰Â `sidebar`Â (ä¾§å¯¼èˆª) å’ŒÂ `main`Â (ä¸»å†…å®¹) ä¸¤ä¸ªè§†å›¾ï¼Œè¿™ä¸ªæ—¶å€™å‘½åè§†å›¾å°±æ´¾ä¸Šç”¨åœºäº†ã€‚ä½ å¯ä»¥åœ¨ç•Œé¢ä¸­æ‹¥æœ‰å¤šä¸ªå•ç‹¬å‘½åçš„è§†å›¾ï¼Œè€Œä¸æ˜¯åªæœ‰ä¸€ä¸ªå•ç‹¬çš„å‡ºå£ã€‚å¦‚æœÂ `router-view`Â æ²¡æœ‰è®¾ç½®åå­—ï¼Œé‚£ä¹ˆé»˜è®¤ä¸ºÂ `default`ã€‚

```html
<router-view class="view left-sidebar" name="LeftSidebar"></router-view>
<router-view class="view main-content"></router-view>
<router-view class="view right-sidebar" name="RightSidebar"></router-view>
```

## Routerç»„åˆå¸ƒå±€

é¡¹ç›®ç›®å½•ç»“æ„

```md
router-demo
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ App.vue
â”‚   â”œâ”€â”€ assets
â”‚   â”‚   â””â”€â”€ vue.svg
â”‚   â”œâ”€â”€ main.js
â”‚   â”œâ”€â”€ router
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ store
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ utils
â”‚   â”‚   â””â”€â”€ request.js
â”‚   â””â”€â”€ views
â”‚       â”œâ”€â”€ about
â”‚       â”‚   â”œâ”€â”€ api
â”‚       â”‚   â”‚   â””â”€â”€ index.js
â”‚       â”‚   â”œâ”€â”€ index.vue
â”‚       â”‚   â”œâ”€â”€ router
â”‚       â”‚   â”‚   â””â”€â”€ index.js
â”‚       â”‚   â””â”€â”€ store
â”‚       â”‚       â””â”€â”€ index.js
â”‚       â”œâ”€â”€ home
â”‚       â”‚   â”œâ”€â”€ header.vue
â”‚       â”‚   â””â”€â”€ menu.vue
â”‚       â””â”€â”€ main
â”‚           â”œâ”€â”€ api
â”‚           â”‚   â””â”€â”€ index.js
â”‚           â”œâ”€â”€ index.vue
â”‚           â”œâ”€â”€ router
â”‚           â”‚   â””â”€â”€ index.js
â”‚           â””â”€â”€ store
â”‚               â””â”€â”€ index.js
â””â”€â”€ vite.config.js
```

1. ä¿®æ”¹`app.vue`è§†å›¾æ˜¾ç¤º
  **æ³¨æ„çœ‹ä¸‹ğŸ“¢ï¼šæ·»åŠ äº†ä¸¤ä¸ª`router-view`å‘½åè§†å›¾**

   ```vue
   <template>
      <div class="contain flex p10 mt40 ml40">
        <router-view class="menu width-200 flex-center mr10" name="Menu" />
        <div class="flex1 flex-column">
          <router-view class="header mb10 p10 flex-center" name="Headers" />
          <router-view class="view-main"></router-view>
        </div>
      </div>
    </template>

    <script setup>

    </script>
   ```

2. ä¿®æ”¹`main`æ–‡ä»¶å¤¹ä¸­çš„route.js

   è¿™é‡Œ **æ³¨æ„ğŸ“¢ï¼š`component`ä¿®æ”¹`components`**

   ```js
   // mian/router/index.js
   export default [
      {
        path: '/main',
        name: 'main',
        components: {
          default: () => import('../index.vue'),
          Headers: () => import('@/views/home/header.vue'),
          Menu: () => import('@/views/home/menu.vue'),
        },
      },
    ];
   ```

![image.png](/blog/images/vueRouter/layout/main.png)
3. ä¿®æ”¹`about`æ–‡ä»¶å¤¹çš„router.js

   ```js
   // about/router/index.js
   export default [
      {
        path: '/about',
        name: 'about',
        components: {
          default: () => import('../index.vue'),
          Headers: () => import('@/views/home/header.vue'),
        },
      },
    ];
   ```

![image.png](/blog/images/vueRouter/layout/layout-about.png)

å¦‚æœæƒ³æ˜¾ç¤ºå“ªä¸ªè§†å›¾ï¼Œå°±åœ¨ç›¸å¯¹åº”çš„è·¯ç”±`components`æ·»åŠ ç›¸åº”çš„è§†å›¾ç»„ä»¶ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯æ–¹ä¾¿äº†è®¸å¤šã€‚

## ç»“è®º

- ä¸ç”¨åœ¨`app.vue`æ·»åŠ åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºéšè—`header`å’Œ`menu`ç»„ä»¶
- æ ¹æ®è·¯ç”±åŠ¨æ€æ˜¾ç¤ºå¸ƒå±€æ ·å¼

è¿™åªæ˜¯æç¤ºå¤šä¸€ç§æ–°çš„å¸ƒå±€æ–¹å¼ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¼€å‘ï¼Œå½“ç„¶è¿˜æ˜¯é€‰æ‹©åˆé€‚è‡ªå·±çš„å†™æ³•ã€‚
